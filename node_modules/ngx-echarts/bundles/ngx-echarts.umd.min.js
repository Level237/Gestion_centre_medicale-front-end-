!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("@angular/core"),require("resize-observer-polyfill"),require("rxjs"),require("rxjs/operators")):"function"==typeof define&&define.amd?define("ngx-echarts",["exports","@angular/core","resize-observer-polyfill","rxjs","rxjs/operators"],e):e((t=t||self)["ngx-echarts"]={},t.ng.core,t.ResizeObserver,t.rxjs,t.rxjs.operators)}(this,(function(t,e,r,n,o){"use strict";r=r&&r.hasOwnProperty("default")?r.default:r;function i(t,e,r,n){var o,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,r,n);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,r,a):o(e,r))||a);return i>3&&a&&Object.defineProperty(e,r,a),a}function a(t,e,r,n){return new(r||(r=Promise))((function(o,i){function a(t){try{c(n.next(t))}catch(t){i(t)}}function s(t){try{c(n.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(a,s)}c((n=n.apply(t,e||[])).next())}))}function s(t,e){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(t){i=[6,t],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}var c=function(){function t(t){this.changes=t}return t.of=function(e){return new t(e)},t.prototype.notEmpty=function(t){if(this.changes[t]){var e=this.changes[t].currentValue;if(null!=e)return n.of(e)}return n.EMPTY},t.prototype.has=function(t){if(this.changes[t]){var e=this.changes[t].currentValue;return n.of(e)}return n.EMPTY},t.prototype.notFirst=function(t){if(this.changes[t]&&!this.changes[t].isFirstChange()){var e=this.changes[t].currentValue;return n.of(e)}return n.EMPTY},t.prototype.notFirstAndEmpty=function(t){if(this.changes[t]&&!this.changes[t].isFirstChange()){var e=this.changes[t].currentValue;if(null!=e)return n.of(e)}return n.EMPTY},t}(),h=new e.InjectionToken("NGX_ECHARTS_CONFIG"),u=function(){function t(t,r,n){this.el=r,this.ngZone=n,this.autoResize=!0,this.loadingType="default",this.chartInit=new e.EventEmitter,this.optionsError=new e.EventEmitter,this.chartClick=this.createLazyEvent("click"),this.chartDblClick=this.createLazyEvent("dblclick"),this.chartMouseDown=this.createLazyEvent("mousedown"),this.chartMouseMove=this.createLazyEvent("mousemove"),this.chartMouseUp=this.createLazyEvent("mouseup"),this.chartMouseOver=this.createLazyEvent("mouseover"),this.chartMouseOut=this.createLazyEvent("mouseout"),this.chartGlobalOut=this.createLazyEvent("globalout"),this.chartContextMenu=this.createLazyEvent("contextmenu"),this.chartLegendSelectChanged=this.createLazyEvent("legendselectchanged"),this.chartLegendSelected=this.createLazyEvent("legendselected"),this.chartLegendUnselected=this.createLazyEvent("legendunselected"),this.chartLegendScroll=this.createLazyEvent("legendscroll"),this.chartDataZoom=this.createLazyEvent("datazoom"),this.chartDataRangeSelected=this.createLazyEvent("datarangeselected"),this.chartTimelineChanged=this.createLazyEvent("timelinechanged"),this.chartTimelinePlayChanged=this.createLazyEvent("timelineplaychanged"),this.chartRestore=this.createLazyEvent("restore"),this.chartDataViewChanged=this.createLazyEvent("dataviewchanged"),this.chartMagicTypeChanged=this.createLazyEvent("magictypechanged"),this.chartPieSelectChanged=this.createLazyEvent("pieselectchanged"),this.chartPieSelected=this.createLazyEvent("pieselected"),this.chartPieUnselected=this.createLazyEvent("pieunselected"),this.chartMapSelectChanged=this.createLazyEvent("mapselectchanged"),this.chartMapSelected=this.createLazyEvent("mapselected"),this.chartMapUnselected=this.createLazyEvent("mapunselected"),this.chartAxisAreaSelected=this.createLazyEvent("axisareaselected"),this.chartFocusNodeAdjacency=this.createLazyEvent("focusnodeadjacency"),this.chartUnfocusNodeAdjacency=this.createLazyEvent("unfocusnodeadjacency"),this.chartBrush=this.createLazyEvent("brush"),this.chartBrushEnd=this.createLazyEvent("brushend"),this.chartBrushSelected=this.createLazyEvent("brushselected"),this.chartRendered=this.createLazyEvent("rendered"),this.chartFinished=this.createLazyEvent("finished"),this.animationFrameID=null,this.echarts=t.echarts}var u,p;return t.prototype.ngOnChanges=function(t){var e=this,r=c.of(t);r.notFirstAndEmpty("options").subscribe((function(t){return e.onOptionsChange(t)})),r.notFirstAndEmpty("merge").subscribe((function(t){return e.setOption(t)})),r.has("loading").subscribe((function(t){return e.toggleLoading(!!t)})),r.notFirst("theme").subscribe((function(){return e.refreshChart()}))},t.prototype.ngOnInit=function(){var t=this;this.autoResize&&(this.resizeSub=new r((function(){t.animationFrameID=window.requestAnimationFrame((function(){return t.resize()}))})),this.resizeSub.observe(this.el.nativeElement))},t.prototype.ngOnDestroy=function(){this.resizeSub&&(this.resizeSub.unobserve(this.el.nativeElement),window.cancelAnimationFrame(this.animationFrameID)),this.dispose()},t.prototype.ngAfterViewInit=function(){var t=this;setTimeout((function(){return t.initChart()}))},t.prototype.dispose=function(){this.chart&&(this.chart.dispose(),this.chart=null)},t.prototype.resize=function(){this.chart&&this.chart.resize()},t.prototype.toggleLoading=function(t){this.chart&&(t?this.chart.showLoading(this.loadingType,this.loadingOpts):this.chart.hideLoading())},t.prototype.setOption=function(t,e){if(this.chart)try{this.chart.setOption(t,e)}catch(t){console.error(t),this.optionsError.emit(t)}},t.prototype.refreshChart=function(){return a(this,void 0,void 0,(function(){return s(this,(function(t){switch(t.label){case 0:return this.dispose(),[4,this.initChart()];case 1:return t.sent(),[2]}}))}))},t.prototype.createChart=function(){var t=this,e=this.el.nativeElement;if(window&&window.getComputedStyle){var r=window.getComputedStyle(e,null).getPropertyValue("height");r&&"0px"!==r||e.style.height&&"0px"!==e.style.height||(e.style.height="400px")}return this.ngZone.runOutsideAngular((function(){return("function"==typeof t.echarts?t.echarts:function(){return Promise.resolve(t.echarts)})().then((function(r){return(0,r.init)(e,t.theme,t.initOpts)}))}))},t.prototype.initChart=function(){return a(this,void 0,void 0,(function(){return s(this,(function(t){switch(t.label){case 0:return[4,this.onOptionsChange(this.options)];case 1:return t.sent(),this.merge&&this.chart&&this.setOption(this.merge),[2]}}))}))},t.prototype.onOptionsChange=function(t){return a(this,void 0,void 0,(function(){var e;return s(this,(function(r){switch(r.label){case 0:return t?this.chart?(this.setOption(this.options,!0),[3,3]):[3,1]:[2];case 1:return e=this,[4,this.createChart()];case 2:e.chart=r.sent(),this.chartInit.emit(this.chart),this.setOption(this.options,!0),r.label=3;case 3:return[2]}}))}))},t.prototype.createLazyEvent=function(t){var e=this;return this.chartInit.pipe(o.switchMap((function(r){return new n.Observable((function(n){return r.on(t,(function(t){return e.ngZone.run((function(){return n.next(t)}))})),function(){return r.off(t)}}))})))},t.ctorParameters=function(){return[{type:void 0,decorators:[{type:e.Inject,args:[h]}]},{type:e.ElementRef},{type:e.NgZone}]},i([e.Input()],t.prototype,"options",void 0),i([e.Input()],t.prototype,"theme",void 0),i([e.Input()],t.prototype,"loading",void 0),i([e.Input()],t.prototype,"initOpts",void 0),i([e.Input()],t.prototype,"merge",void 0),i([e.Input()],t.prototype,"autoResize",void 0),i([e.Input()],t.prototype,"loadingType",void 0),i([e.Input()],t.prototype,"loadingOpts",void 0),i([e.Output()],t.prototype,"chartInit",void 0),i([e.Output()],t.prototype,"optionsError",void 0),i([e.Output()],t.prototype,"chartClick",void 0),i([e.Output()],t.prototype,"chartDblClick",void 0),i([e.Output()],t.prototype,"chartMouseDown",void 0),i([e.Output()],t.prototype,"chartMouseMove",void 0),i([e.Output()],t.prototype,"chartMouseUp",void 0),i([e.Output()],t.prototype,"chartMouseOver",void 0),i([e.Output()],t.prototype,"chartMouseOut",void 0),i([e.Output()],t.prototype,"chartGlobalOut",void 0),i([e.Output()],t.prototype,"chartContextMenu",void 0),i([e.Output()],t.prototype,"chartLegendSelectChanged",void 0),i([e.Output()],t.prototype,"chartLegendSelected",void 0),i([e.Output()],t.prototype,"chartLegendUnselected",void 0),i([e.Output()],t.prototype,"chartLegendScroll",void 0),i([e.Output()],t.prototype,"chartDataZoom",void 0),i([e.Output()],t.prototype,"chartDataRangeSelected",void 0),i([e.Output()],t.prototype,"chartTimelineChanged",void 0),i([e.Output()],t.prototype,"chartTimelinePlayChanged",void 0),i([e.Output()],t.prototype,"chartRestore",void 0),i([e.Output()],t.prototype,"chartDataViewChanged",void 0),i([e.Output()],t.prototype,"chartMagicTypeChanged",void 0),i([e.Output()],t.prototype,"chartPieSelectChanged",void 0),i([e.Output()],t.prototype,"chartPieSelected",void 0),i([e.Output()],t.prototype,"chartPieUnselected",void 0),i([e.Output()],t.prototype,"chartMapSelectChanged",void 0),i([e.Output()],t.prototype,"chartMapSelected",void 0),i([e.Output()],t.prototype,"chartMapUnselected",void 0),i([e.Output()],t.prototype,"chartAxisAreaSelected",void 0),i([e.Output()],t.prototype,"chartFocusNodeAdjacency",void 0),i([e.Output()],t.prototype,"chartUnfocusNodeAdjacency",void 0),i([e.Output()],t.prototype,"chartBrush",void 0),i([e.Output()],t.prototype,"chartBrushEnd",void 0),i([e.Output()],t.prototype,"chartBrushSelected",void 0),i([e.Output()],t.prototype,"chartRendered",void 0),i([e.Output()],t.prototype,"chartFinished",void 0),t=i([e.Directive({selector:"echarts, [echarts]",exportAs:"echarts"}),(u=0,p=e.Inject(h),function(t,e){p(t,e,u)})],t)}(),p=function(){function t(){}var r;return r=t,t.forRoot=function(t){return{ngModule:r,providers:[{provide:h,useValue:t}]}},t.forChild=function(){return{ngModule:r}},t=r=i([e.NgModule({imports:[],declarations:[u],exports:[u]})],t)}();t.NGX_ECHARTS_CONFIG=h,t.NgxEchartsDirective=u,t.NgxEchartsModule=p,Object.defineProperty(t,"__esModule",{value:!0})}));
//# sourceMappingURL=ngx-echarts.umd.min.js.map